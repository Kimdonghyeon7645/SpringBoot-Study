# 8. EC2에 프로젝트 배포

*1~5장*은 로컬에서 스프링부트로 서비스를 개발했고,  
*6~7장*은 배포환경을 구성했다.  
이제 실제 서비스를 배포할 시간이다.

## 1. EC2에 프로젝트 Clone(클론) 하기

EC2에 프로젝트 코드를 옮기기 위해선, 지금까지의 프로젝트 코드가 저장된 깃허브에서 클론해오면 된다.  
 
```shell script
sudo yum install git  # 일단 git(깃) 설치
git --version # 깃 설치 상태 확인

mkdir ~/app   
mkdir ~/app/step1   # git clone으로 프로젝트를 저장할 디렉토리 생성
cd ~/app/step1    # 생성된 디렉토리로 이동

git clone (프로젝트의 깃허브 https 주소)  # 프로젝트 클론하기

cd (프로젝트명)  # 클론된 프로젝트로 이동
ll    # 잘 파일이 복사됐는지 확인
```

클론이 끝났으면, 코드들이 잘 수행되는지 테스트로 검증한다. (```./gradlew test```)

5장에서 기존 테스트에 Security 적용하기까지 다 끝냈다면, 정상적으로 테스트를 통과한다.  
만약 gradlew 실행 권한 없음 메시지가 뜬다면 (```-bash: ./gradlew: Permission denied```)  
-> 다음 명령어로 실행 권한 추가 후, 다시 테스트를 수행하면 된다.

```shell script
chmod +x ./gradlew    # 실행 권한 추가
./gradlew test    # 다시 테스트 수행 (참고로 처음 테스트 실행할 때는 2-3분 걸린다.)
``` 

> ### 그레이들(Gradle) 설치 안해도 실행이 된다?
>
> 현재 EC2는 **그레이들 설치 없이도, Gradle Task(test 같은 것)를 수행**할 수 있다.   
> -> 프로젝트 내부에 포함된 **gradlew** 파일 때문에 가능하다.
> 
> - **gradlew** : 그레이들이 설치되지 않은 환경, 버전이 다른 상황에서도 해당 프로젝트에 한해서 그레이들을 쓸 수 있게 지원하는 Wrapper 파일
> 
> gradlew 파일을 직접 이용할 것이기에, 그레이들을 별도로 설치할 필요 없음



# 6-1. AWS 회원가입, 인스턴스 생성

> #### AWS 회원가입
>
> 해외결제 가능한 Master, Visa 카드가 필요하다.
> (이게 없어서 못했었다 ㅠㅠ... 농협 체크카드 중에 Visa카드 있으니 참고)



실제 서비스될 지역과 가까울수록 빠르다.
국내에서 서비스할 경우 서울로 골라야 한다.
생성하기

EC2 대시보드를 들어간다.
인스턴스 시작을 누른다.
아마존 리눅스 1 AMI를 선택한다.
AMI란 필요한 정보를 이미지로 만들어 둔 것이다.
가상머신에 운영체제를 설치하도록 구운 이미지이다.
아마존 리눅스 1 AMI를 이용하는 이유는 아직 국내 자료가 1이 더 많기 때문이다.
센토스 AMI를 이용하지 않는 이유
아마존이 개발하기 때문에 지원받기 쉽다.
AWS의 서비스와 상성이 좋다.
AWS의 독자적인 레포를 사용하기 때문에 yum이 매우 빠르다.
인스턴스 유형은 t2.micro를 선택한다.
t2는 요금 타입이란 뜻이다.
t 시리즈는 크레딧 이라는 포인트를 이용한다.
CPU를 사용하지 않을 때 포인트가 쌓이고, CPU를 사용할 때 포인트를 사용한다.
높은 트래픽이 오면 크레딧을 더 사용한다.
크레딧을 모두 사용하면 EC2를 사용할 수 없다.
세부 정보 구성은 연습할 때엔 굳이 필요 없으니 넘어간다.
네트워크 환경 구성 등 세세한 정보를 다룬다.
하지만 소규모/개인/공부 라면 굳이 설정할 필요 없다.
스토리지 선택은 서버의 용량을 설정하는 단계이다.
기본값이 8GB이지만, 프리티어 최대치는 30GB 이므로 30GB로 바꿔준다.
태그는 웹 콘솔에 표시될 이름이다.
인스턴스가 여러개 일때, 태그로 검색이나 그룹이 편하기 때문에, 원하는 만큼 등록하면 된다.
보안 그룹은 방화벽을 이야기 한다.
기본적으로는 80포트를 제외하고 허용하지 않는다.
굉장히 중요하다. 만약 모두 열어버린다면 pem 파일(키)가 유출되는 순간, 모든 보안이 뚫리게 되므로, 다음과 같이 설정해 준다.
image-20210119115745928
SSH에 22포트는 터미널로 접속하는 경우인데, 내 아이피로 설정하고, 만약 카페와 같은곳을 가게 되면 그곳의 아이피를 추가하는것이 좋다.
다음을 눌렀을 때 보안 그룹 경고를 하는데, 8080포트를 여는것은 위험하지 않으니 시작하기를 누른다.
pem 파일을 저장할 수 있는데, 절대 유출하면 안된다.
마스터키와 같은 역할이기 때문에, EC2 서버 접속에 필수적인 파일이다.
잘 보관해야 한다.
기본적인 설정
인스턴스 또한 IP가 존재한다.
인스턴스 생성 또는 재시작 시에 새 IP가 할당된다.
즉, 인스턴스 재시작 후에는 접속해야 하는 IP가 변경된다.
그래서 고정 IP를 가지게 하면 편하다.
인스턴스 페이지에서 왼쪽의 탄력적 IP를 선택한다.
새 주소 할당 버튼을 누른다.
할당 버튼을 누른다.
해당 IP와 EC2 주소를 연결해 준다.
생성한 탄력적 IP를 확인한다.
위쪽의 작업 -> 주소연결을 선택한다.
EC2 이름과 UP를 입력하고 연결 버튼을 누른다.
만약 탄력적 IP를 생성하고 EC2에 연결하지 않으면 비용이 발생한다.
꼭 연결해 줘야 한다.

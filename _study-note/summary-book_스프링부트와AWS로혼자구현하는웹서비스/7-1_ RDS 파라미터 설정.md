# 7-1. RDS 운영환경에 맞게 파라미터 설정

RDS 처음 생성후, 필수로 해줄 설정이 몇가지 있다

- 타임존
- Character Set (문자 집합) 
- Max Connection (최대 접속 개수)

### 1. 파라미터 생성

일단 이런 설정을 해줄 수 있는 파라미터 그룹을 생성하자

1. RDS 왼쪽 사이드바 > **[파라미터 그룹]** 클릭
2. **[파라미터 그룹 생성]** 클릭해서 파라미터 그룹 세부 정보 설정

    파라미터 그룹 패밀리는 **방금 생성한 RDS의 DB와 같은 버전**으로 설정해야 함  
    그룹 이름과 설명은 원하는 값으로 설정

생성이 완료되면, 파라미터 그룹 목록 창에 새로생긴 그룹 확인!

### 2. 파라미터 편집

파라미터 이름을 클릭하고 **[파라미터 편집]** 클릭하면 편집 모드로 전환된다.

여기서 아까전에 해줘야 했었던 설정값을 변경해주면 된다. 

1. 타임존 변경 
    
    time_zone 항목 검색 후 값을 **Asia/Seoul**로 변경
    
2. character_set 변경

    이건 변경해줄 항목이 많다.  
    character로 검색해서 나오는 아래의 6개 항목의 값을 모두 **utf8mb4**로 변경
    
   - character_set_client
   - character_set_connection
   - character_set_database
   - character_set_filesystem
   - character_set_results
   - character_set_server

    그후, collation을 검색해서 나오는 아래의 2개 항목의 값을 모두 **utf8mb4_general_ci**로 변경
  
   - collation_connection
   - collation_server

3. max_connections
 
    max_connections 항목 검색 후 기본값보다 더 넉넉하게 지정해 준다. (책에서는 150)  
    (현재 프리티어 사양으론 약 60개 커넥션만 가능해서 더 넉넉하게 지정하는 것 -> 이후 RDS 사양을 높이면 기본값으로 되돌리면 됨)  
    
설정이 다 끝났으면, **[변경 사항 저장]** 클릭해서 최종 저장!

### 3. 파라미터 그룹 DB에 연결

1. 왼쪽 사이드바의 **[데이터베이스]** 클릭
2. 이전에 생성한 DB를 선택하고 **[수정]** 클릭
3. **데이터베이스 옵션 > DB 파라미터 그룹**을 방금 생성한 파라미터 그룹으로 변경

저장을 누르면 수정 사항 요약이 뜬다.  
수정 사항 적용 시점을 선택할 수 있는데, **즉시 적용** 선택  

    예약된 다음 유지 시간으로 하면 새벽시간대에 진행된다.(수정사항 반영하는 동안 DB 작동 안할 수 있어서)  
    근데 지금 차피 DB 안 쓰니까 즉시 적용을 선택
